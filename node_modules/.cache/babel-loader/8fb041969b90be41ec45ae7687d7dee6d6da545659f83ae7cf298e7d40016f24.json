{"ast":null,"code":"import _regeneratorRuntime from\"D:/event_booking_app/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"D:/event_booking_app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import axios from\"axios\";import*as alertAction from'../alert/alert.action';import*as userUtil from'../../util/userUtil';import*as tokenUtil from'../../util/tokenUtil';export var REGISTER_USER_REQUEST='REGISTER_USER_REQUEST';export var REGISTER_USER_SUCCESS='REGISTER_USER_SUCCESS';export var REGISTER_USER_FAILURE='REGISTER_USER_FAILURE';export var LOGIN_USER_REQUEST='LOGIN_USER_REQUEST';export var LOGIN_USER_SUCCESS='LOGIN_USER_SUCCESS';export var LOGIN_USER_FAILURE='LOGIN_USER_FAILURE';export var GET_USER_INFO_REQUEST='GET_USER_INFO_REQUEST';export var GET_USER_INFO_SUCCESS='GET_USER_INFO_SUCCESS';export var GET_USER_INFO_FAILURE='GET_USER_INFO_FAILURE';export var LOGOUT_USER='LOGOUT_USER';export var registerUser=function registerUser(user,navigate){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(dispatch){var dataURL,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;dispatch({type:REGISTER_USER_REQUEST});dataURL='http://127.0.0.1:5000/api/users/register';_context.next=5;return axios.post(dataURL,user);case 5:response=_context.sent;// Use await to wait for the promise to resolve\ndispatch({type:REGISTER_USER_SUCCESS,payload:response.data});dispatch(alertAction.setAlert(response.data.msg,'success'));navigate('/users/login');_context.next=15;break;case 11:_context.prev=11;_context.t0=_context[\"catch\"](0);console.error(_context.t0);dispatch({type:REGISTER_USER_FAILURE,payload:_context.t0.response.data});case 15:case\"end\":return _context.stop();}},_callee,null,[[0,11]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var loginUser=function loginUser(user,navigate){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(dispatch){var dataURL,response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.prev=0;dispatch({type:LOGIN_USER_REQUEST});dataURL='http://127.0.0.1:5000/api/users/login';_context2.next=5;return axios.post(dataURL,user);case 5:response=_context2.sent;dispatch({type:LOGIN_USER_SUCCESS,payload:response.data});dispatch(alertAction.setAlert(response.data.msg,'success'));navigate('/events/pro');_context2.next=14;break;case 11:_context2.prev=11;_context2.t0=_context2[\"catch\"](0);dispatch({type:LOGIN_USER_FAILURE,payload:_context2.t0.response.data});case 14:case\"end\":return _context2.stop();}},_callee2,null,[[0,11]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var getUserInfo=function getUserInfo(){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(dispatch){var dataURL,response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:if(userUtil.getToken()){tokenUtil.setAuthToken(userUtil.getToken());}_context3.prev=1;dispatch({type:GET_USER_INFO_REQUEST});dataURL='http://127.0.0.1:5000/api/users/';_context3.next=6;return axios.get(dataURL);case 6:response=_context3.sent;dispatch({type:GET_USER_INFO_SUCCESS,payload:response.data});_context3.next=14;break;case 10:_context3.prev=10;_context3.t0=_context3[\"catch\"](1);console.error(_context3.t0);dispatch({type:GET_USER_INFO_FAILURE,payload:_context3.t0});case 14:case\"end\":return _context3.stop();}},_callee3,null,[[1,10]]);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export var logoutUser=function logoutUser(navigate){return function(dispatch){dispatch({type:LOGOUT_USER});navigate('/');};};","map":{"version":3,"names":["axios","alertAction","userUtil","tokenUtil","REGISTER_USER_REQUEST","REGISTER_USER_SUCCESS","REGISTER_USER_FAILURE","LOGIN_USER_REQUEST","LOGIN_USER_SUCCESS","LOGIN_USER_FAILURE","GET_USER_INFO_REQUEST","GET_USER_INFO_SUCCESS","GET_USER_INFO_FAILURE","LOGOUT_USER","registerUser","user","navigate","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","dispatch","dataURL","response","wrap","_callee$","_context","prev","next","type","post","sent","payload","data","setAlert","msg","t0","console","error","stop","_x","apply","arguments","loginUser","_ref2","_callee2","_callee2$","_context2","_x2","getUserInfo","_ref3","_callee3","_callee3$","_context3","getToken","setAuthToken","get","_x3","logoutUser"],"sources":["D:/event_booking_app/src/redux/user/user.action.js"],"sourcesContent":["import axios from \"axios\";\r\nimport * as alertAction from '../alert/alert.action';\r\nimport * as userUtil from '../../util/userUtil';\r\nimport * as tokenUtil from '../../util/tokenUtil';\r\n\r\nexport const REGISTER_USER_REQUEST = 'REGISTER_USER_REQUEST';\r\nexport const REGISTER_USER_SUCCESS = 'REGISTER_USER_SUCCESS';\r\nexport const REGISTER_USER_FAILURE = 'REGISTER_USER_FAILURE';\r\n\r\nexport const LOGIN_USER_REQUEST='LOGIN_USER_REQUEST';\r\nexport const LOGIN_USER_SUCCESS='LOGIN_USER_SUCCESS';\r\nexport const LOGIN_USER_FAILURE='LOGIN_USER_FAILURE';\r\n\r\n\r\nexport const GET_USER_INFO_REQUEST='GET_USER_INFO_REQUEST';\r\nexport const GET_USER_INFO_SUCCESS='GET_USER_INFO_SUCCESS';\r\nexport const GET_USER_INFO_FAILURE='GET_USER_INFO_FAILURE';\r\n\r\n\r\nexport const LOGOUT_USER='LOGOUT_USER';\r\n\r\nexport const registerUser = (user, navigate) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch({ type: REGISTER_USER_REQUEST });\r\n      let dataURL = 'http://127.0.0.1:5000/api/users/register';\r\n      let response = await axios.post(dataURL, user); // Use await to wait for the promise to resolve\r\n\r\n      dispatch({ type: REGISTER_USER_SUCCESS, payload: response.data });\r\n\r\n      dispatch(alertAction.setAlert(response.data.msg, 'success'));\r\n      navigate('/users/login');\r\n    } catch (error) {\r\n      console.error(error);\r\n      dispatch({ type: REGISTER_USER_FAILURE, payload: error.response.data });\r\n    }\r\n  };\r\n};\r\n\r\n\r\n\r\n\r\nexport const loginUser = (user, navigate) => {\r\n  return async (dispatch) => {\r\n    try {\r\n      dispatch({ type: LOGIN_USER_REQUEST });\r\n      let dataURL = 'http://127.0.0.1:5000/api/users/login';\r\n      let response = await axios.post(dataURL, user);\r\n\r\n      dispatch({ type: LOGIN_USER_SUCCESS, payload: response.data });\r\n      dispatch(alertAction.setAlert(response.data.msg, 'success'));\r\n      navigate('/events/pro');\r\n    } catch (error) {\r\n      dispatch({ type: LOGIN_USER_FAILURE, payload: error.response.data });\r\n    }\r\n  };\r\n};\r\n\r\n\r\nexport const getUserInfo=()=>{\r\n\r\n  return async(dispatch)=>{\r\n    if(userUtil.getToken()){\r\n\r\n      tokenUtil.setAuthToken(userUtil.getToken());\r\n    }\r\n\r\n    try{\r\n\r\n      dispatch({type:GET_USER_INFO_REQUEST});\r\n      let dataURL='http://127.0.0.1:5000/api/users/';\r\n      let response=await axios.get(dataURL);\r\n      dispatch({type:GET_USER_INFO_SUCCESS,payload:response.data});\r\n\r\n\r\n    }\r\n    catch(error){\r\n      console.error(error);\r\n      dispatch({type:GET_USER_INFO_FAILURE,payload:error});\r\n\r\n\r\n    }\r\n\r\n\r\n  }\r\n}\r\n\r\nexport const logoutUser=(navigate)=>{\r\n\r\n  return (dispatch=>{\r\n\r\n    dispatch({type:LOGOUT_USER})\r\n    navigate('/');\r\n  });\r\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}